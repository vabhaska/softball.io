<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Softball Lineup Manager</title>
<style>
body { font-family: Arial; display:flex; flex-direction:column; align-items:center; padding:10px;}
#field { width:360px; height:360px; position:relative; background:#228B22; border-radius:10px; margin-bottom:20px;}
#infield { position:absolute; width:140px; height:140px; background:#a0522d; top:110px; left:110px; transform:rotate(45deg); border-radius:5px;}
.slot { width:40px; height:40px; background:white; border-radius:50%; text-align:center; line-height:12px; font-size:10px; position:absolute; border:2px solid #000; font-weight:bold; color:#000; padding:3px;}
.slot .player { font-size:9px; display:block; margin-top:2px;}
.bucket { width:360px; min-height:40px; margin-bottom:20px; padding:5px; border:2px dashed #000; border-radius:5px; display:flex; flex-wrap:wrap; align-items:center; }
.bucket-title { width:100%; font-weight:bold; margin-bottom:5px; }
.player { width:80px; height:30px; background:#87cefa; margin:2px; text-align:center; line-height:30px; border-radius:4px; font-size:12px; cursor:pointer; }
.selected { background:#ffcc00 !important; }
</style>
</head>
<body>
<h2>Softball Lineup Manager</h2>

<div id="field">
  <div id="infield"></div>
  <div class="slot" data-pos="1B" style="bottom:50px; right:50px;">1B</div>
  <div class="slot" data-pos="2B" style="top:50px; left:50%; transform:translateX(-50%);">2B</div>
  <div class="slot" data-pos="3B" style="bottom:50px; left:50px;">3B</div>
  <div class="slot" data-pos="SS" style="bottom:80px; left:35%;">SS</div>
  <div class="slot" data-pos="P" style="top:50%; left:50%; transform:translate(-50%,50%);">P</div>
  <div class="slot" data-pos="C" style="bottom:10px; left:50%; transform:translateX(-50%);">C</div>
  <div class="slot" data-pos="LF" style="top:20px; left:40px;">LF</div>
  <div class="slot" data-pos="CF" style="top:0px; left:50%; transform:translateX(-50%);">CF</div>
  <div class="slot" data-pos="RF" style="top:20px; right:40px;">RF</div>
</div>

<div class="bucket" id="roster">
  <div class="bucket-title">Roster</div>
</div>

<div class="bucket" id="outfield"><div class="bucket-title">Outfield</div></div>
<div class="bucket" id="sub"><div class="bucket-title">Sub for the Inning</div></div>

<button onclick="resetLineup()">Reset</button>
<pre id="output"></pre>

<script>
let players = ["Corbin","Danielle","Marcus","Natalie","Russell","Vamsi","Brianna","Charles","Matt Johnson"];
let selectedPlayer = null;
let lineup = {
  "P": null, "C": null, "1B": null, "2B": null, "3B": null, "SS": null,
  "LF": null, "CF": null, "RF": null,
  "Outfield": [], "Sub": [], "Roster": [...players]
};

function render() {
  // Clear roster buckets
  document.getElementById('roster').innerHTML = `<div class="bucket-title">Roster</div>`;
  document.getElementById('outfield').innerHTML = `<div class="bucket-title">Outfield</div>`;
  document.getElementById('sub').innerHTML = `<div class="bucket-title">Sub for the Inning</div>`;
  
  // Fill roster
  lineup["Roster"].forEach(p=>{
    let el = document.createElement("div");
    el.className = "player";
    if (selectedPlayer === p) el.classList.add("selected");
    el.textContent = p;
    el.onclick = ()=> selectPlayer(p);
    document.getElementById('roster').appendChild(el);
  });

  // Fill positions
  document.querySelectorAll('.slot').forEach(slot=>{
    slot.innerHTML = slot.dataset.pos;
    let pos = slot.dataset.pos;
    if(lineup[pos]){
      let el = document.createElement("div");
      el.className="player";
      el.textContent=lineup[pos];
      slot.appendChild(el);
    }
    slot.onclick = ()=> assignPosition(pos);
  });

  // Update text output
  document.getElementById('output').textContent = JSON.stringify(lineup, null, 2);
}

function selectPlayer(p) {
  selectedPlayer = (selectedPlayer === p ? null : p);
  render();
}

function assignPosition(pos) {
  if(!selectedPlayer) return;
  // If position already taken, return player to roster
  if(lineup[pos]){
    lineup["Roster"].push(lineup[pos]);
  }
  // Assign selected player
  lineup[pos] = selectedPlayer;
  lineup["Roster"] = lineup["Roster"].filter(x=>x!==selectedPlayer);
  selectedPlayer = null;
  render();
}

function resetLineup(){
  lineup = {
    "P": null, "C": null, "1B": null, "2B": null, "3B": null, "SS": null,
    "LF": null, "CF": null, "RF": null,
    "Outfield": [], "Sub": [], "Roster": [...players]
  };
  selectedPlayer = null;
  render();
}

render();
</script>
</body>
</html>
