<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Softball Positions for Ctrl+Alt+Defeats</title>
  <style>
    body { font-family: Arial, sans-serif; background: #d2f5d0; margin: 0; padding: 20px; }
    h1, h2 { text-align: center; }
    .field {
      position: relative;
      width: 600px;
      height: 600px;
      margin: 20px auto;
      background: #66bb6a; /* Outfield grass */
      border-radius: 50%;
      border: 5px solid #2e7d32;
      overflow: hidden;
    }
    .infield {
      position: absolute;
      width: 300px;
      height: 300px;
      background: #d7a46c; /* Dirt color */
      transform: rotate(45deg);
      top: 150px;
      left: 150px;
      border: 3px solid #8b5a2b;
    }
    .slot {
      position: absolute;
      border: 2px dashed #bbb;
      border-radius: 10px;
      padding: 6px;
      min-width: 70px;
      min-height: 35px;
      text-align: center;
      background: white;
      font-size: 13px;
    }
    .slot.dragover { background: #e0f7ff; border-color: #00aaff; }
    .player {
      background: #4f9cf9;
      color: white;
      padding: 6px 10px;
      margin: 5px;
      border-radius: 8px;
      cursor: grab;
      display: inline-block;
      font-size: 14px;
    }
    .players {
      margin: 20px auto;
      text-align: center;
      max-width: 600px;
    }
    table {
      margin: 20px auto;
      border-collapse: collapse;
      width: 300px;
    }
    table, th, td { border: 1px solid #333; }
    th, td { padding: 8px; text-align: center; background: #f0f0f0; }
  </style>
</head>
<body>

<h1>Softball Positions for Ctrl+Alt+Defeats</h1>

<div class="field" id="positions">
  <div class="infield"></div>

  <!-- Defensive positions -->
  <div class="slot" style="bottom: 20px; left: 50%; transform: translateX(-50%);" data-pos="Catcher">Catcher</div>
  <div class="slot" style="bottom: 120px; left: 50%; transform: translateX(-50%);" data-pos="Pitcher">Pitcher</div>
  <!-- Swapped 1B and 3B -->
  <div class="slot" style="bottom: 200px; right: 25%;" data-pos="1B">1B</div>
  <div class="slot" style="bottom: 200px; left: 25%;" data-pos="3B">3B</div>
  <div class="slot" style="bottom: 300px; left: 50%; transform: translateX(-50%);" data-pos="2B">2B</div>
  <!-- Shortstop between 1B and 2B -->
  <div class="slot" style="bottom: 260px; left: 38%;" data-pos="SS">SS</div>
  <div class="slot" style="top: 100px; left: 10%;" data-pos="LF">LF</div>
  <div class="slot" style="top: 40px; left: 50%; transform: translateX(-50%);" data-pos="CF">CF</div>
  <div class="slot" style="top: 100px; right: 10%;" data-pos="RF">RF</div>
</div>

<h2>Players</h2>
<div class="players" id="players">
  <div class="player" draggable="true">Corbin</div>
  <div class="player" draggable="true">Danielle</div>
  <div class="player" draggable="true">Marcus</div>
  <div class="player" draggable="true">Natalie</div>
  <div class="player" draggable="true">Russell</div>
  <div class="player" draggable="true">Vamsi</div>
  <div class="player" draggable="true">Brianna</div>
  <div class="player" draggable="true">Charles</div>
  <div class="player" draggable="true">Matt Johnson</div>
  <div class="player" draggable="true">Ellison</div>
  <div class="player" draggable="true">Lauren</div>
  <div class="player" draggable="true">Taylor</div>
</div>

<h2>Unused Players</h2>
<table id="unusedTable">
  <thead>
    <tr><th>Name</th></tr>
  </thead>
  <tbody>
    <!-- Populated dynamically -->
  </tbody>
</table>

<script>
const playersContainer = document.getElementById('players');
const slots = document.querySelectorAll('.slot');
const unusedTable = document.getElementById('unusedTable').querySelector('tbody');
let dragged = null;

// Function to update unused players table
function updateUnusedTable() {
  unusedTable.innerHTML = '';
  playersContainer.querySelectorAll('.player').forEach(p => {
    const tr = document.createElement('tr');
    tr.textContent = p.textContent;
    unusedTable.appendChild(tr);
  });
}

// Drag and drop setup
playersContainer.querySelectorAll('.player').forEach(p => {
  p.addEventListener('dragstart', () => dragged = p);
  p.addEventListener('dragend', () => { dragged = null; updateUnusedTable(); });
});

slots.forEach(slot => {
  slot.addEventListener('dragover', e => { e.preventDefault(); slot.classList.add('dragover'); });
  slot.addEventListener('dragleave', () => slot.classList.remove('dragover'));
  slot.addEventListener('drop', () => {
    slot.classList.remove('dragover');
    if (dragged) {
      slot.querySelectorAll('.player').forEach(el => playersContainer.appendChild(el)); // move existing player back
      slot.appendChild(dragged);
      updateUnusedTable();
    }
  });
});

// Observe changes in the players container and update table instantly
const observer = new MutationObserver(updateUnusedTable);
observer.observe(playersContainer, { childList: true });

// Initial table population
updateUnusedTable();
</script>

</body>
</html>
