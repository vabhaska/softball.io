<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Softball Lineup Viewer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1 { background: #2c3e50; color: white; margin: 0; padding: 20px; }

    .field {
      position: relative;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle at center, #a5d6a7 60%, #6abf69 100%);
      margin: 30px auto;
      border-radius: 50%;
      box-shadow: inset 0 0 10px #333;
    }

    .base {
      width: 50px;
      height: 50px;
      background: #fff;
      position: absolute;
      transform: rotate(45deg);
    }

    .base.home { bottom: 30px; left: 50%; transform: translateX(-50%) rotate(45deg); }
    .base.first { right: 70px; bottom: 150px; }
    .base.second { top: 50%; right: 210px; transform: translateY(-50%) rotate(45deg); }
    .base.third { left: 70px; bottom: 150px; }

    .player {
      position: absolute;
      transform: translate(-50%, -50%);
      background: #1976d2;
      color: white;
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>Softball Lineup Viewer</h1>

  <div class="field" id="field">
    <div class="base home"></div>
    <div class="base first"></div>
    <div class="base second"></div>
    <div class="base third"></div>
  </div>

  <script>
    const apiURL = "https://script.google.com/macros/s/AKfycbx8u8pUTWaeZn0HHfocuTE-9wMFOFCmCyXLklEdiOuMVLIwGfDa50SyM8Qr8UYF6NxL/exec"; // replace with your deployed Google Apps Script

    async function loadPlayers() {
      try {
        const res = await fetch(apiURL);
        const players = await res.json();
        renderField(players);
      } catch (err) {
        console.error("Error loading players:", err);
      }
    }

    function renderField(players) {
      const field = document.getElementById("field");
      // clear existing players
      field.querySelectorAll(".player").forEach(p => p.remove());

      players.forEach(p => {
        const div = document.createElement("div");
        div.className = "player";
        div.textContent = p.name;
        div.style.left = (p.x || 250) + "px";
        div.style.top = (p.y || 250) + "px";
        field.appendChild(div);
      });
    }

    loadPlayers();
    setInterval(loadPlayers, 30000); // refresh every 30 seconds
  </script>
</body>
</html>
